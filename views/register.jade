doctype html
html
    head
        meta(name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1")
        meta(http-equiv='Content-Type', content='text/html; charset=utf-8')
        link(rel='stylesheet', href='/stylesheets/bootstrap/bootstrap.min.css')
        link(rel='stylesheet', href='/stylesheets/customStyle.css')

        title CS4261 - NS Solutions

    body
        .container-fluid
            .row.text-center
                .col-md-4.col-md-offset-4
                    h1 Sign Up
            br
            .row
                .col-md-4.col-md-offset-4
                    form.text-left(method="post")
                        .form-group
                            label(for='firstName') First Name:
                            input(type='text', name='firstName').form-control
                        .form-group
                            label(for='lastName') Last Name:
                            input(type='text', name='lastName').form-control
                        .form-group#email1
                            label(for='user') Email Address:
                            input#input1(type='text', name='user').form-control
                        .form-group#email2
                            label(for='user2') Re-enter Email:
                            input(type='text', name='user2').form-control
                        .form-group#pass1
                            label(for='password') Password:
                            input(type='password', name='password').form-control
                        .form-group#pass2
                            label(for='password2') Re-enter Password:
                            input(type='password', name='password2').form-control
                        button.btn.btn-default#submit(disabled='', type='submit') Submit
                    br
                    .alert.alert-danger#dangerAlert2(style="visibility: hidden") There is already an account associated with this email.

    script.

        var email1 = document.getElementById('email1');
        var email2 = document.getElementById('email2');
        var pass1 = document.getElementById('pass1');
        var pass2 = document.getElementById('pass2');
        var button = document.getElementById('submit');

        window.onload = function () {
            email1.onkeyup = checkEmails;
            email2.onkeyup = checkEmails;
            pass1.onkeyup = checkPass;
            pass2.onkeyup = checkPass;
            if (error) {
                var showError = parseInt(error);
                var alert = document.getElementById("dangerAlert2");
                if (showError === 1) {
                    alert.style.visibility = "visible";
                }
            }
        };

        function checkFields() {
            if (email1.lastElementChild.value === email2.lastElementChild.value && pass1.lastElementChild.value === pass2.lastElementChild.value) {
                button.removeAttribute('disabled');
            } else if (!button.hasAttribute('disabled')) {
                button.setAttribute('disabled', '');
            }
        }

        function checkEmails() {
            if (email1.lastElementChild.value != email2.lastElementChild.value) {
                email1.className = 'form-group has-error';
                email2.className = 'form-group has-error';
            } else if (email1.lastElementChild.value === email2.lastElementChild.value && email1.lastElementChild.value != '' && email2.lastElementChild.value != '') {
                email1.className = 'form-group has-success';
                email2.className = 'form-group has-success';
            }
            checkFields();
        }

        function checkPass() {
            if (pass1.lastElementChild.value != pass2.lastElementChild.value) {
                pass1.className = 'form-group has-error';
                pass2.className = 'form-group has-error';
            } else if (pass1.lastElementChild.value === pass2.lastElementChild.value && pass1.lastElementChild.value != '' && pass2.lastElementChild.value != '') {
                pass1.className = 'form-group has-success';
                pass2.className = 'form-group has-success';
            }
            checkFields();
        }



    script.
        var error = !{error}


